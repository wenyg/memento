---
description: Memento 项目特定功能和业务逻辑规范
---

# Memento 特定功能规范

## 标签系统
- 支持层级标签：`#工作/项目/重要`
- 标签分隔符使用 `/`
- 支持中文标签和特殊字符
- 标签树自动构建父子关系
- 文件可以属于多个标签

## Front Matter 处理
- 支持 YAML 格式的 Front Matter
- 必需字段：`title`、`date`、`tags`
- 可选字段：自定义字段
- 日期格式：ISO 8601（YYYY-MM-DD）
- 标签格式：数组或字符串

## 文件排序
- 默认按创建时间降序排列
- 优先使用 Front Matter 中的 date 字段
- 回退到文件系统创建时间
- 支持自定义排序规则

## 配置管理
- 全局配置：VSCode 设置中的 `memento.notesPath`
- 本地配置：`.memento/config.json`
- 配置合并：本地配置覆盖默认配置
- 配置验证：路径存在性检查

## 模板系统
- 支持变量替换：`{{year}}`、`{{month}}`、`{{day}}`、`{{week}}`
- 自定义模板路径支持
- 默认模板提供
- 模板变量验证

## 视图切换
- 文件视图：按时间排序的 Markdown 文件列表
- 标签视图：按标签层级组织的文件树
- 日历视图：日记和周报管理
- 设置视图：配置管理界面

## 日记周报
- 日记：按日期创建，支持日模板
- 周报：按周数创建，支持周模板
- 文件命名：支持自定义格式
- 历史记录：显示最近的日记/周报

## 文件过滤
- 排除文件夹配置
- 支持通配符模式
- 自动排除隐藏文件夹
- 配置热更新

## 错误处理
- 文件不存在：显示友好错误信息
- 配置错误：提供修复建议
- 权限错误：提示用户检查权限
- 网络错误：提供重试机制

## 性能优化
- 文件扫描：异步处理，避免阻塞
- 标签解析：缓存结果，避免重复解析
- 视图更新：增量更新，减少全量刷新
- 内存管理：及时释放不需要的资源